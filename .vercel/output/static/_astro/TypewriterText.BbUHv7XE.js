import{j as u}from"./jsx-runtime.D_zvdyIk.js";import{r as m}from"./index.Be8AcK8B.js";import{r as g,m as p}from"./proxy.DGszR7zY.js";const v={some:0,all:1};function b(s,i,{root:c,margin:r,amount:e="some"}={}){const l=g(s),t=new WeakMap,o=f=>{f.forEach(n=>{const d=t.get(n.target);if(n.isIntersecting!==!!d)if(n.isIntersecting){const h=i(n.target,n);typeof h=="function"?t.set(n.target,h):a.unobserve(n.target)}else typeof d=="function"&&(d(n),t.delete(n.target))})},a=new IntersectionObserver(o,{root:c,rootMargin:r,threshold:typeof e=="number"?e:v[e]});return l.forEach(f=>a.observe(f)),()=>a.disconnect()}function x(s,{root:i,margin:c,amount:r,once:e=!1,initial:l=!1}={}){const[t,o]=m.useState(l);return m.useEffect(()=>{if(!s.current||e&&t)return;const a=()=>(o(!0),e?void 0:()=>o(!1)),f={root:i&&i.current||void 0,margin:c,amount:r};return b(s.current,a,f)},[i,s,c,e,r]),t}function j({text:s,className:i="",delay:c=0}){const r=m.useRef(null),e=x(r,{once:!0,margin:"-100px"}),l={hidden:{opacity:1},visible:{opacity:1,transition:{delay:c,staggerChildren:.05}}},t={hidden:{opacity:0,display:"none"},visible:{opacity:1,display:"inline"}};return u.jsxs(p.h2,{ref:r,className:`font-mono ${i}`,variants:l,initial:"hidden",animate:e?"visible":"hidden",children:[s.split("").map((o,a)=>u.jsx(p.span,{variants:t,children:o},o+"-"+a)),u.jsx(p.span,{animate:{opacity:[0,1,0]},transition:{repeat:1/0,duration:.8},className:"text-brand-magenta inline-block ml-1",children:"_"})]})}export{j as default};
