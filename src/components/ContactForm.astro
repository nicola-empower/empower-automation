---

---

<div
    class="w-full max-w-lg mx-auto bg-brand-dark border border-gray-700 rounded-lg p-8 shadow-2xl relative overflow-hidden"
>
    <div class="mb-6 border-b border-gray-700 pb-4">
        <div class="flex gap-2 mb-2">
            <div class="w-3 h-3 rounded-full bg-red-500"></div>
            <div class="w-3 h-3 rounded-full bg-yellow-500"></div>
            <div class="w-3 h-3 rounded-full bg-green-500"></div>
        </div>
        <p class="text-xs text-gray-500 font-mono">contact_form.exe</p>
    </div>

    <form
        id="contact-form"
        action="https://script.google.com/macros/s/AKfycbx5N5VINi4h1tZKV1o-MFbdmAP1kgpCYOZVbFvLec1v4Tp9_WRY53vVJjqBohpYAZNz/exec"
        method="POST"
        class="space-y-6 transition-opacity duration-300"
    >
        <div>
            <label
                for="name"
                class="block mb-2 text-sm font-medium text-brand-gold font-mono"
            >
                &gt; input_name:
            </label>
            <input
                type="text"
                name="name"
                id="name"
                required
                class="bg-[#0d1117] border border-gray-600 text-gray-300 text-sm rounded-lg focus:ring-brand-orange focus:border-brand-orange block w-full p-2.5 font-mono"
            />
        </div>

        <div>
            <label
                for="email"
                class="block mb-2 text-sm font-medium text-brand-gold font-mono"
            >
                &gt; input_email:
            </label>
            <input
                type="email"
                name="email"
                id="email"
                required
                class="bg-[#0d1117] border border-gray-600 text-gray-300 text-sm rounded-lg focus:ring-brand-orange focus:border-brand-orange block w-full p-2.5 font-mono"
            />
        </div>

        <div>
            <label
                for="message"
                class="block mb-2 text-sm font-medium text-brand-gold font-mono"
            >
                &gt; input_message:
            </label>
            <textarea
                name="message"
                id="message"
                rows="4"
                required
                class="bg-[#0d1117] border border-gray-600 text-gray-300 text-sm rounded-lg focus:ring-brand-orange focus:border-brand-orange block w-full p-2.5 font-mono"
            ></textarea>
        </div>

        <button
            type="submit"
            id="submit-btn"
            class="w-full text-white bg-brand-orange hover:bg-orange-600 focus:ring-4 focus:outline-none focus:ring-orange-300 font-medium rounded-lg text-sm px-5 py-3 text-center transition-colors font-mono font-bold disabled:opacity-50 disabled:cursor-not-allowed"
        >
            [ EXECUTE_SEND ]
        </button>
    </form>

    <!-- Success Message (Hidden by default) -->
    <div
        id="success-message"
        class="absolute inset-0 bg-brand-dark flex flex-col items-center justify-center text-center p-8 opacity-0 pointer-events-none transition-opacity duration-300"
    >
        <div
            class="w-16 h-16 bg-green-500/10 rounded-full flex items-center justify-center mb-4 border border-green-500/50"
        >
            <svg
                class="w-8 h-8 text-green-500"
                fill="none"
                stroke="currentColor"
                viewBox="0 0 24 24"
            >
                <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M5 13l4 4L19 7"></path>
            </svg>
        </div>
        <h3 class="text-xl font-bold text-white mb-2 font-mono">
            TRANSMISSION_COMPLETE
        </h3>
        <p class="text-gray-400">
            Your message has been successfully executed. We will initialize a
            response shortly.
        </p>
        <button
            id="reset-btn"
            class="mt-6 text-brand-orange hover:text-white font-mono text-sm underline"
        >
            &lt; Send Another Message
        </button>
    </div>
</div>

<script>
    const form = document.getElementById("contact-form") as HTMLFormElement;
    const submitBtn = document.getElementById(
        "submit-btn",
    ) as HTMLButtonElement;
    const successMessage = document.getElementById("success-message");
    const resetBtn = document.getElementById("reset-btn");

    if (form && submitBtn && successMessage && resetBtn) {
        form.addEventListener("submit", async (e) => {
            e.preventDefault();

            // Loading State
            const originalBtnText = submitBtn.innerText;
            submitBtn.innerText = "[ TRANSMITTING... ]";
            submitBtn.disabled = true;

            try {
                const formData = new FormData(form);
                const data = {
                    name: formData.get("name") as string,
                    email: formData.get("email") as string,
                    message: formData.get("message") as string,
                };

                await fetch(form.action, {
                    method: "POST",
                    mode: "no-cors",
                    headers: {
                        "Content-Type": "application/json",
                    },
                    body: JSON.stringify({
                        type: "CONTACT",
                        email: data.email,
                        data: data,
                    }),
                });

                // With no-cors, we assume success if no network error occurred
                if (true) {
                    // Success State
                    form.reset();
                    form.style.opacity = "0";
                    form.style.pointerEvents = "none";
                    successMessage.style.opacity = "1";
                    successMessage.style.pointerEvents = "auto";
                } else {
                    throw new Error("Form submission failed");
                }
            } catch (error) {
                alert("Error sending message. Please try again.");
                submitBtn.innerText = originalBtnText;
                submitBtn.disabled = false;
            }
        });

        resetBtn.addEventListener("click", () => {
            // Reset UI
            successMessage.style.opacity = "0";
            successMessage.style.pointerEvents = "none";
            form.style.opacity = "1";
            form.style.pointerEvents = "auto";
            submitBtn.innerText = "[ EXECUTE_SEND ]";
            submitBtn.disabled = false;
        });
    }
</script>
